%%%%%\section{User input and error handling}

\begin{Problem}{\textbf{Quadratic with user input}} \label{quadratic_roots_input}

\noindent Consider the usual formula for computing solutions to the quadratic equation
$ax^2+bx+c=0$ given by
\begin{equation*}
    x_{\pm}=\frac{-b\pm\sqrt{b^2-4ac}}{2a}.
\end{equation*}
Write a program that asks the user to input values for $a$, $b$, and $c$, using \pythoninline{input}
(or \pythoninline{raw_input} if you are using Python 2). Compute the corresponding solutions and print them.

Filename: \texttt{quadratic\_roots\_input.py}
\end{Problem}

\begin{Problem}{\textbf{Quadratic with command line}} \label{quadratic_roots_cml}

\noindent Modify the program from \ref{quadratic_roots_input} such that $a$, $b$ and $c$ are read from the command line.

Filename: \texttt{quadratic\_roots\_cml.py}
\end{Problem}


\begin{Problem}{\textbf{Quadratic with exceptions}}

\noindent Extend the program from \ref{quadratic_roots_cml} with exception handling such that missing command line arguments are
detected. In the \pythoninline{except IndexError} block, instead of exiting the program you should
use \pythoninline{input} to ask the user for the missing input data.

Filename: \texttt{quadratic\_roots\_error.py}
\end{Problem}

\begin{Problem}{\textbf{Quadratic with raising Error}} \label{prob43} \
Consider the program from Problem \ref{quadratic_roots_input}. Not all inputs yield real solutions.
Modify the program such that it raises a \pythoninline{ValueError} if the input values for $a$, $b$ and $c$
yield complex roots. (That is if $b^2 - 4ac < 0$). Provide a suitable error  message. Run your program with different
values of the coefficients to verify that it prints out real roots and that a \pythoninline{ValueError} is raised
when the roots are complex. An example of values that provide complex roots could be $a=1$, $b=1$, $c=1$,
while $a=1$, $b=0$, $c=-1$ will give real roots.

Filename: \texttt{quadratic\_roots\_error2.py}
\end{Problem}

\begin{Problem}{\textbf{Estimating harmonic series}} \label{prob44}

\noindent Let $f(x)$ be the function
\begin{equation*}
    f(x)=\sum_{n=1}^\infty\frac{x^n}{n}=x+\frac{x^2}{2}+\frac{x^3}{3}+\dots
\end{equation*}
Write a program that approximates $f(x)$ (that is, evaluates $f_N(x)=\sum_{n=1}^N
\frac{x^n}{n}$) with values of $x$ and $N$ given
as command line arguments. Run the program for $x=0.9$, $x=1$, and $N=10000$.
Print the results.

\begin{remark}
For $x=1$ this is known as the \emph{harmonic series}. Despite the low values for
large $N$, the series does not converge, but diverges very slowly. Try to run the
program for different values of $N$ to see how big you can get the value of $f(1)$.
\end{remark}

Filename: \texttt{harmonic.py}
\end{Problem}



\begin{Problem}{\textbf{Estimating harmonic series extended}} \label{prob45}

\noindent Using the program from Problem \ref{prob44}, consider the following values for $x$ and $N$
in a text file
\begin{lstlisting}
x: 0.9 1
N: 500 1000 10 100 50000 10000 5000
\end{lstlisting}

\paragraph{a)}
Write a function to read a file containing information in the above format that
returns two lists containing the values of $x$ and $N$.
\paragraph{b)}
Write a test function for a) that generates a file in the given format and checks
that the values returned by the function is correct.
\paragraph{c)}
Use the program from Problem \ref{prob44} to evaluate $f_N(x)$ for the different values of
$x$ and $N$. Create a function that writes the information to a file in a table format with the first
column containing the values of $N$ in increasing order, and the second and third the values of $f_N(x)$
at 0.9 and 1 respectively.

Filename: \texttt{harmonic\_table.py}
\end{Problem}

\begin{Problem}{\textbf{Read isotope file}}

\noindent
Isotopes of a chemical element in its ground state have the same number of protons but differ in the number of neutrons. The weight of isotopes of the same chemical element will therefore be different.

The molar mass, $M$, of a chemical element, can be calculated by summing over all its isotopes $ M =  \sum_{i} m_i w_i $, where $m_i$ is the weight of the $i$-th isotope and $w_i$ the corresponding natural abundance.

The file \texttt{Oxygen.txt}, which is given below, contains the information on Oxygen's isotopes ($\mathrm{^{16}O}$, $\mathrm{^{17}O}$ and $\mathrm{^{18}O}$).
\begin{lstlisting}
Isotope    weight [g/mol]    Natural abundance
(16)O          15.99491         0.99759
(17)O          16.99913         0.00037
(18)O          17.99916         0.00204
\end{lstlisting}

Write a script in Python to read the file \texttt{Oxygen.txt} and extract the weights and the natural abundance of all the isotopes of Oxygen. Use these to calculate the molar mass of Oxygen. Print out the result with four decimals and provide the correct units.

Filename: \texttt{read\_file\_isotopes.py}
\end{Problem}

\begin{Problem}{\textbf{A result on prime numbers}} \label{prob46}

\noindent A famous result concerning prime numbers states that the number of primes below
a natural number $n$, denoted $\pi(n)$, is approximately given by
\begin{equation*}
    \pi(n)\approx \frac{n}{\log(n)}.
\end{equation*}
That is, the fraction $p(n)=\pi(n)/\frac{n}{\log(n)}$ tends to 1 as $n\to \infty$.
The following table contains the exact values of $\pi(n)$ for some values of $n$.
\begin{lstlisting}
n: 10**20 10**4 10**2 10**1 10**12 10**4 10**6 10**15
pi(n): 2220819602560918840 1229 25 4 37607912018 168
       78498 29844570422669
\end{lstlisting}
\paragraph{a)}
Write a function that reads the file given above and returns two tuples containing
sorted values of $n$ and $\pi(n)$. It is important that the correspondence
in the orderings are correct, that is, the same as in the table above.
\paragraph{b)}
Write a test function that generates a file with the format above and tests that
the returned values are correct. It should test that the order of the elements
are in correspondence as in the file.

\emph{Hint: The \pythoninline{==} operator on tuples will take the order into account.
The same operator on lists will not.}
\paragraph{c)}
Create a function that writes the values of $n$ and $p(n)$ to a file in a table format in
increasing order with the values of $n$ in the first column and the corresponding
values of $p(n)$ in the second column.
\paragraph{Bonus problem}
There are better approximations to $\pi(n)$, for example the function
\begin{equation*}
    \Li(n)=\int_2^n \frac{1}{\log(t)} dt
\end{equation*}
Approximate the integral for different values of $n$ and modify the program to
write these into a third column.

\emph{Hint: Implement an algorithm for approximating the integral (e.g. the trapezoidal
rule) and compute the difference as before.}

Filename: \texttt{primes.py}
\end{Problem}

\newpage
\begin{Problem}{\textbf{Conversion from other bases}} \label{prob47}

\noindent Recall that a binary number is a sequence of zeros and ones which
converted to the decimal system becomes $\sum_i 2^i$ where i is a term in the sequence
containing a 1 (e.g. $100101 = 2^5 + 2^2 + 2^0 = 37$).

\paragraph{a)}
Write a function that takes a binary number and converts it to a decimal number.
If the argument is not a binary number, a message should be printed and nothing
returned.

\emph{Hint: Let the number in the argument be of type string to avoid problems with
numbers starting with a zero.}
\paragraph{b)}
Let the binary number from a) be taken as a command line argument.
Use exceptions (IndexError) to handle missing input. Print the conversion of
100111101.
\paragraph{c)}
Extend the program with a function to also handle numbers written in base 3.

\emph{Hint: An example of a ternary number(a number in base 3) converted to a decimal number:
 $1201 = 1\cdot 3^3 + 2\cdot 3^2 + 0\cdot 3^1 + 1\cdot 3^0$.}

Filename: \texttt{base\_conversion.py}
\end{Problem}



\begin{Problem}{\textbf{Read temperatures from two files}}

\noindent
We consider data sets from the Norwegian Meteorological Institute, containing daily mean temperatures of any month of any year at Blindern (Oslo).\cite{temp} Each file looks typically like this:
\begin{lstlisting}
Year: 1997. Month: April. Location: Blindern(Oslo)
9.0  12.3    15.8  13.4  11.0 16.2  13.3
12.9  14.0  14.1  12.0  17.3  15.5 15.4
...
\end{lstlisting}
The observations are given chronologically, and the temperatures are given in degrees Celsius. There are no empty lines in the bottom of the file.

\paragraph{a)}
Write a function \pythoninline{extract_data(filename)} that reads any such file and returns a list of the temperatures from the given month.
\paragraph{b)}
In the two files \texttt{temp\_oct\_1945.dat} and \texttt{temp\_oct\_2014.dat} you will find observations of daily mean temperatures in October 1945 and October 2014, respectively. Store the temperatures in two lists \pythoninline{oct_1945} and \pythoninline{oct_2014}. Calculate the average, maximum and minimum value of the temperatures of both months, and print the results. You may use the \pythoninline{numpy.mean()}, \pythoninline{numpy.max()} and \pythoninline{numpy.min()} methods.
\paragraph{c)}
Write a function \pythoninline{write_formatting()} that takes at least \pythoninline{filename}, \pythoninline{list1} and \pythoninline{list2} as parameters, and creates a new file with two nicely formatted columns containing the temperatures of the given months (you can assume that the months have equal lengths).
Finally, call the function such that the file \texttt{temp\_formatted.txt} is created, using the lists \pythoninline{oct_1945} and \pythoninline{oct_2014}.
\\
Filenames: \texttt{temp\_read\_write.py}, \texttt{temp\_formatted.txt}

\end{Problem}
